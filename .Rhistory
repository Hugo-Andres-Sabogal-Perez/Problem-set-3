map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.3, col='orange') +
geom_sf(data = streets, fill = NA, size = 0.3, col='grey')+
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets, fill = NA, size = 0.3, col='grey')+
theme_bw()
map1
map1
p_load(rio,
tidyverse,
sf,
tidytable,
xtable,
leaflet,
osmdata,
ggsn)
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets, fill = NA, size = 0.3, col='grey')+
coord_sf(xlim=c(-74.5,-74.0), ylim=c(4.1, 4.8))
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets, fill = NA, size = 0.3, col='grey')+
coord_sf(xlim=c(-74.5,-74.0), ylim=c(4.6, 4.8))
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets, fill = NA, size = 0.3, col='grey')+
coord_sf(xlim=c(-74.5,-74.0), ylim=c(4.6, 4.8)) +
theme_bw()
map1
streets_primary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='primary') %>%
osmdata_sf()
streets_primary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='primary') %>%
osmdata_sf()
streets_primary<-streets_primary$osm_multilines
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.3, col='grey')+
coord_sf(xlim=c(-74.5,-74.0), ylim=c(4.6, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.3, col='grey')+
theme_bw()
map1
View(streets_primary)
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.3, col='black') +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
theme_bw()
map1
View(streets_primary)
streets_primary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='primary') %>%
osmdata_sf()
streets_primary<-streets_primary$osm_lines
View(streets_primary)
View(streets_primary)
##Mapa con ggplot
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
coord_sf(xlim=c(-74.5,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
streets_trunk<- pq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='trunk') %>%
osmdata_sf()
streets_trunk<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='trunk') %>%
osmdata_sf()
streets_trunk<-streets_trunk$osm_lines
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray')
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
##Mapa con ggplot
map1 <- ggplot() +
geom_sf(data = bogota_lim, fill = NA, size = 0.6, col='orange') +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
oms_keys
map1 <- ggplot() +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
streets_secondary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='secondary') %>%
osmdata_sf()
streets_trunk<-streets_secondary$osm_lines
##Mapa con ggplot
map1 <- ggplot() +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')
#### Sacamos vias de bogota de osmdata (esta linea es demorada, ya no es necesario ejecutarla)
streets_primary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='primary') %>%
osmdata_sf()
streets_primary<-streets_primary$osm_lines
streets_trunk<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='trunk') %>%
osmdata_sf()
streets_trunk<-streets_trunk$osm_lines
streets_secondary<- opq(bbox=getbb('Bogotá Colombia')) %>%
add_osm_feature(key='highway', value='secondary') %>%
osmdata_sf()
streets_secondary<-streets_secondary$osm_lines
map1 <- ggplot() +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1 <- ggplot() +
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_point(data = transmi, fill = NA, size = 0.6, col='red')
#Mapas de estaciones de transmilenio y SITP
transmi <- st_read('Stores/inputs/transmi/estaciones-de-transmilenio.shp')
transmi <- st_transform(transmi, crs = 4326)
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_point(data = transmi, fill = NA, size = 0.6, col='red')
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_point(data = transmi, fill = NA, size = 0.6, col='red')+
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.6, col='red')+
coord_sf(xlim=c(-74.3,-74.0), ylim=c(4.5, 4.85)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.6, col='red')+
coord_sf(xlim=c(-74.2,-74.05), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.05), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.07), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.1), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.0), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.3), ylim=c(4.57, 4.8)) +
theme_bw()
map1
##Mapa con ggplot
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.6,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.03), ylim=c(4.57, 4.8)) +
theme_bw()
map1
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=1,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.03), ylim=c(4.57, 4.8)) +
theme_bw()
map1
##Mapa con ggplot
map1 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = transmi, fill = NA, size = 0.8, col='red')+
coord_sf(xlim=c(-74.2,-74.03), ylim=c(4.57, 4.8)) +
theme_bw()
map1
sitp<-st_transform(sitp, crs = 4326)
sitp<-st_read("Stores/inputs/psitp/PSITP.shp")
sitp<-st_transform(sitp, crs = 4326)
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.2,-74.03), ylim=c(4.57, 4.8)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.2,-74.03), ylim=c(4.57, 4.8)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.15,-74.03), ylim=c(4.5, 4.8)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.15,-74.03), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.0,-74.03), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.0,-74.05), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.2,-74.05), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.25,-74.05), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.25,-74.07), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue')+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.5)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='black') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='black')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.2)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.2)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.1)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray20') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray20') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray20')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.1)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray30') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray30') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray30')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.1)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray45') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray45') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray45')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.1)+
coord_sf(xlim=c(-74.25,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
map2 <- ggplot() +
geom_sf(data=bogota_lim, fill=NA, size=0.8,color='orange')+
geom_sf(data = streets_primary, fill = NA, size = 0.6, col='gray45') +
geom_sf(data = streets_trunk, fill = NA, size = 0.6, col='gray45') +
geom_sf(data = streets_secondary, fill = NA, size = 0.6, col='gray45')+
geom_sf(data = sitp, fill = NA, size = 0.8, col='blue', alpha=0.1)+
coord_sf(xlim=c(-74.22,-74.02), ylim=c(4.5, 4.85)) +
theme_bw()
map2
ggsave("Views/mapatransmi.pdf", width = 6, height = 4, plot = map1)
ggsave("Views/mapasitp.pdf", width = 6, height = 4, plot = map2)
ggsave("Views/mapatransmi.pdf", width = 6, height = 4, plot = map1)
##Limpiar entorno
rm(list = ls())
###llamamos librerias
library(pacman)
p_load(rio,
tidyverse,
sf,
tidytable,
xtable,
leaflet,
osmdata,
ggsn)
###Iimportamos datos
test_estat_des<-import('Stores/outputs/test_estat_desc.rds')
train_estat_des<- import("Stores/outputs/train_estat_desc.rds")
#Tabla 1: estadisticas descriptivas
tabla <- data.frame(train_estat_des$rooms, train_estat_des$bedrooms, train_estat_des$n_baños, train_estat_des$n_parqueaderos, train_estat_des$ESTRATO, train_estat_des$avaluo_catastromanz, train_estat_des$pisos,train_estat_des$area_num)
vars <- length(colnames(tabla))
EstDesc <- data.frame(
"Variable" = colnames(tabla), "Observaciones" = rep(NA, vars), "Media" = rep(NA, vars),
"Desviacion_Estandar" = rep(NA, vars), "Min" = rep(NA, vars), "Max" = rep(NA, vars))
for (col in colnames(tabla)) {
df <- tabla %>% select(col)
Obs <- nrow(df)
mean <- mean(as.numeric(unlist(df)), na.rm = T)
sd <- sqrt(var(df, na.rm = T))
min <- min(as.numeric(unlist(df)), na.rm = T)
max <- max(as.numeric(unlist(df)), na.rm = T)
EstDesc[EstDesc$Variable == col, 2] <- Obs
EstDesc[EstDesc$Variable == col, 3] <- mean
EstDesc[EstDesc$Variable == col, 4] <- sd
EstDesc[EstDesc$Variable == col, 5] <- min
EstDesc[EstDesc$Variable == col, 6] <- max
}
require(xtable)
tabla_estadisticas <- xtable(EstDesc, type = "latex")
print(tabla_estadisticas, file = "Views/estadisticas.tex")
#Tabla 2: Estadisticas de la variable de interés
mean_value <- mean(train_estat_des$price)
sd_value <- sd(train_estat_des$price)
min_value <- min(train_estat_des$price)
max_value <- max(train_estat_des$price)
# Crear una tabla con las estadísticas descriptivas
descriptive_stats_basic <- data.frame(
mean = mean_value,
sd = sd_value,
min = min_value,
max = max_value
)
latex_table <- xtable(descriptive_stats_basic)
print(latex_table, type = "latex", file = "Views/descriptive_stats.tex", include.rownames = FALSE)
